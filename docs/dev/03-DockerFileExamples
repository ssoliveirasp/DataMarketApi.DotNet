#####################################
##Create Ng-inx
#####################################

#DockerFile
from nginx:1.11-alpine
copy . /usr/share/nginx/html
expose 80 
cmd nginx -g daemon off

#DockerBuild
docker build -t my-nginx-image:latest .

#####################################
##End Create Ng-inx
#####################################

--------------------------------------------------------------

#####################################
##Create NodeJS
#####################################

#DockerFile
FROM node:10-alpine
RUN mkdir -p /src/app
WORKDIR /src/app
COPY package.json /src/app/package.json
RUN npm install
COPY . /src/app
EXPOSE 3000
CMD [ "npm", "start" ]

#dockerBuild
docker build -t my-nodejs-app .
docker run -d --name my-running-app -p 3000:3000 my-nodejs-app

#dockerbuild variables
docker run -d --name my-production-running-app -e NODE_ENV=production -p 3000:3000 my-nodejs-app

#####################################
##End Create NodeJS
#####################################
